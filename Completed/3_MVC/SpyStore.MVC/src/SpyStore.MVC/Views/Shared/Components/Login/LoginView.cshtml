@using System.Net.Http
@using System.Security.Claims
@using Microsoft.AspNetCore.Http

@if (!string.IsNullOrEmpty(ViewBag.CustomerId))
{
    <li class="navbar-text">Hello <em>@ViewBag.CustomerName!</em></li>
    <li><a asp-controller="Cart" asp-action="Index" asp-route-customerId="@ViewBag.CustomerId" asp-route-returnUrl="@ViewBag.CartReturnUrl" title="Shopping Cart"><span class="glyphicon glyphicon-shopping-cart"></span> Cart</a></li>
    <li><a asp-controller="Order" asp-action="Index" asp-route-customerId="@ViewBag.CustomerId" title="Order History"><span class="glyphicon glyphicon-tag"></span> Orders</a></li>
    <li>
        <form asp-controller="Account" asp-action="LogOff" method="post" id="logoutForm" class="navbar-right"><button type="submit" class="btn btn-link navbar-btn navbar-link text-uppercase"><span class="glyphicon glyphicon-lock"></span> Log Off</button></form>
    </li>
}
else
{
    <li><a asp-controller="Account" asp-action="Login"><span class="glyphicon glyphicon-lock"></span> Log In</a></li>
}
@*Roles explained here: https://www.w3.org/TR/2007/WD-xhtml-role-20071004/*@
<li class="dropdown">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-search"></span> SEARCH</a>
    <div class="dropdown-menu search-dropdown-menu">
        <form asp-controller="Product" asp-action="Search" class="navbar-form navbar-left" role="search">
            <div class="input-group">
                <label class="sr-only" for="searchString">Search</label>
                <input type="text" id="searchString" name="searchString" class="form-control" placeholder="SEARCH" >
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button>
                </span>
            </div>
        </form>
    </div>
</li>
